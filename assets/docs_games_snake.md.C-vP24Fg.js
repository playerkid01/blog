import{v as G,c as L,o as X,ae as Y}from"./chunks/framework.Cd-3tpCq.js";const N=JSON.parse('{"title":"贪吃蛇游戏","description":"","frontmatter":{},"headers":[],"relativePath":"docs/games/snake.md","filePath":"docs/games/snake.md"}'),A={name:"docs/games/snake.md"},O=Object.assign(A,{setup(D){return G(()=>{const o=document.getElementById("gameCanvas"),n=o.getContext("2d"),x=document.getElementById("score"),I=document.getElementById("startButton"),S=document.getElementById("pauseButton"),M=document.getElementById("restartButton"),g=document.getElementById("gameMessage"),t=20,B=o.width/t;let a=[],l=15*t,r=15*t,s=0,i=0,k=5*t,v=5*t,m=0,f,d=!1,u=!1;function p(){a=[],a.push({x:l,y:r});for(let e=1;e<3;e++)a.push({x:l-e*t,y:r})}function h(){let e,c,_;do{_=!1,e=Math.floor(Math.random()*B)*t,c=Math.floor(Math.random()*B)*t;for(let E of a)if(E.x===e&&E.y===c){_=!0;break}}while(_);k=e,v=c}function y(){n.fillStyle="#f0f0f0",n.fillRect(0,0,o.width,o.height),n.strokeStyle="#333",n.strokeRect(0,0,o.width,o.height);for(let e=0;e<a.length;e++)e===0?n.fillStyle="#2ecc71":n.fillStyle="#27ae60",n.fillRect(a[e].x,a[e].y,t-1,t-1);n.fillStyle="#e74c3c",n.fillRect(k,v,t-1,t-1)}function P(){if(!d||u)return;if(l+=s,r+=i,l<0||l>=o.width||r<0||r>=o.height){C();return}const e={x:l,y:r};for(let c=0;c<a.length;c++)if(a[c].x===e.x&&a[c].y===e.y){C();return}a.unshift(e),l===k&&r===v?(m+=10,x.textContent=m,h()):a.pop(),y()}function b(){d||(d=!0,u=!1,g.textContent="",s=t,i=0,p(),h(),f&&clearInterval(f),f=setInterval(P,150))}function w(){d&&(u=!u,g.textContent=u?"游戏已暂停":"")}function C(){d=!1,clearInterval(f),g.textContent=`游戏结束！最终分数: ${m}`}function R(){m=0,x.textContent=m,l=15*t,r=15*t,s=0,i=0,d=!1,u=!1,g.textContent="",f&&clearInterval(f),p(),h(),y()}function T(e){switch([37,38,39,40].includes(e.keyCode)&&e.preventDefault(),e.keyCode){case 37:s===0&&(s=-t,i=0);break;case 38:i===0&&(s=0,i=-t);break;case 39:s===0&&(s=t,i=0);break;case 40:i===0&&(s=0,i=t);break;case 32:w();break;case 13:d||b();break}}I.addEventListener("click",b),S.addEventListener("click",w),M.addEventListener("click",R),document.addEventListener("keydown",T),p(),h(),y()}),(o,n)=>(X(),L("div",null,n[0]||(n[0]=[Y('<h1 id="贪吃蛇游戏" tabindex="-1">贪吃蛇游戏 <a class="header-anchor" href="#贪吃蛇游戏" aria-label="Permalink to &quot;贪吃蛇游戏&quot;">​</a></h1><p>这是一个经典的贪吃蛇游戏实现。使用方向键控制蛇的移动，吃到食物会增加分数和蛇的长度。碰到边界或自己的身体游戏结束。</p><div class="snake-game-container"><div class="game-info"><h2>分数: <span id="score">0</span></h2><button id="startButton">开始游戏</button><button id="pauseButton">暂停</button><button id="restartButton">重新开始</button></div><canvas id="gameCanvas" width="600" height="600"></canvas><div id="gameMessage"></div></div>',3)])))}});export{N as __pageData,O as default};
